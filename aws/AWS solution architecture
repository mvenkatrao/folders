IAM Roles
----------------


we can attach the roles to access to only one resource of aws service to instance level

if we want our instance should access to only particular services in aws from the instance level we can configure the roles like below

go to the aws roles and select which service that belongs to
attach the required policies to that role attach that role to the instance by modifying IAM role

system manager
#####################

there would be a one feature called session manager in the system manager 
AmazonSSMFullaccess

below steps to enable the session manager 

https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-getting-started-instance-profile.html

we can make the group of instance as a resource group in the session manager to collect the multiple instances
- we can execute the commands without loggin also using this session manager
- and we can store that output into s3 also and cloud watch logs also
- we can make the patch policy also using system manager

elastic beanstack - Pas platform as a service
#################

https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/concepts-roles-service.html -> This is to create the service role

Below are the policies that we should attach 

Role Name
aws-elasticbeanstalk-service-role

permissions
AWSElasticBeanstalkEnhancedHealth

trusted entity

Permissions

AWSElasticBeanstalkWebTier
AWSElasticBeanstalkWorkerTier
AWSElasticBeanStalkMultiContainerDocker

Deletion Process 
- we have to delete the environments first
- than we have to remove the application

Ec2 additioinal topics
##############################




1. Physical interface level check -1 
- power check
- connectvity check
- software issue with physical host
- any issue with hardware issues
- to check the system logs 
- Go to Actions - Monitoring-Troubleshoot - click on get system logs
- if something wrong with root volume we can replace with snapshots also

2. Instance level check -2 
- os level
- booting level
- file system correctpion
- OOM
- kernel issues



https://docs.aws.amazon.com/whitepapers/latest/introduction-aws-security/security-of-the-aws-infrastructure.html - aws security documentations 


Placement Group

Cluster - Means it will take same hardware same power supply whnever we launch any istances
 we can create the partitions for placement group mostly for hadop

Rack Spread level placement groups

when we launch any servers that will lanunch in only one rack

we can't lanunch the instance with placement groups if already instance is running or already lanunched if really want we can create one golden ami from that we can lanunch

- placement group steps
- we should create the placement group
- we should go the consul while lanunching we can select the placement group

- to protect the instance we can enable the encryption whenever a instance is lanunching that ebs will be encrypted



Route 53:
##############

godaddy
namecheap.com
bigrock

- when we register with domain with any of the provider if we want to route that trafic to aws we should use Route 53 
  we have two  hosted zones like below
-  public hosted zone - over the internet
- private hosted zone - within the aws account or only to particular vpc also we can make it using this private hosted zone
* when we create any hosted zone we will get two records
1. Name Server Record
below are the imporant records
#############################
if we buy from godaddy we have to update this records over there
if we buy from somewhere we have to update those records over there

Failover Routing Policies
###########################

if we buy it from aws we have to update there also registered domains
ns-506.awsdns-63.com
ns-540.awsdns-03.net
ns-1592.awsdns-07.co.uk
ns-1101.awsdns-09.org

2. SOA (Start of Authority record)

godaddy
manage dns ->
i will use my own nameservers 
we have to add above records 

we have to create the records now 
A Record (address records)
C Record
WAWA
mx
tx records


this is the where we can configure the sub domains also

- to map multiple instance we should create load balancer with target groups
- we should give that load balancer to that
- we should enable the alias and where this traffic should go to the load balancer

Simple routing policie
########################
weighted routing policies
- we can map this domain to multiple resources
we will measure this in 255
255 means 100

weighted routing policies
###########################
- we can map this domain to multiple resources
we will measure this in 255
255 means 100

Record id -> like a tag name
weight we should keep in mumbai like 0 (No traffic)

add another record 
- we should add another record for another region and vpc or load balancer
  there we have to configure the load balancer also and weight should be 255


latency routing policies:
#######################



depending on the latency or how customers are access from where they are access according to that nearby regions it will route the traffic
- it will response near by locations traffic will go which is near by regions 

geo-location routing policies
############################

if we want to configure like when there is a request from India that has to go to the USA for that also we can use his geo-location routing policies

FailOver Routing policies:
################################

- we should keep an one primary one secondary whenver there is a issue with one automatically that will go to the another region or another region  
- before that we should configure the health checks
